{"ast":null,"code":"import _classCallCheck from \"/Users/chenweizhang/WebstormProjects/welive/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/chenweizhang/WebstormProjects/welive/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/chenweizhang/WebstormProjects/welive/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/chenweizhang/WebstormProjects/welive/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/chenweizhang/WebstormProjects/welive/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/chenweizhang/WebstormProjects/welive/src/Search.js\";\nimport React, { Component } from 'react';\nimport './Search.css';\nimport $ from 'jquery';\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this, props));\n\n    _this.onSearch = function () {\n      var userId = _this.props.userId;\n      var updateHouse = _this.props.handleSearch;\n      var cityName = $('.input input[name = destination]').val();\n      console.log(cityName);\n      var checkInTime = $('.input input[name = check-in-time]').val();\n      console.log(checkInTime);\n      var checkOutTime = $('.input input[name = check-out-time]').val();\n      console.log(checkOutTime);\n\n      if (userId === null) {\n        $.ajax({\n          url: 'http://10.195.96.58:3000/search/info',\n          type: 'POST',\n          dataType: 'json',\n          contentType: 'application/json',\n          data: JSON.stringify({\n            city: cityName,\n            startDate: checkInTime,\n            leaveDate: checkOutTime\n          })\n        }).done(function (data) {\n          console.log(data);\n        }).fail(function () {\n          console.log(\"error\");\n        }).always(function () {\n          console.log(\"complete\");\n        });\n      } else {\n        _this.setState({\n          userId: userId\n        });\n\n        $.ajax({\n          url: 'http://10.195.96.58:3000/search/info',\n          type: 'POST',\n          dataType: 'json',\n          contentType: 'application/json',\n          data: JSON.stringify({\n            city: cityName,\n            startDate: checkInTime,\n            leaveDate: checkOutTime,\n            user_id: userId\n          })\n        }).done(function (data) {\n          console.log(data);\n          updateHouse(data);\n        }).fail(function () {\n          console.log(\"error\");\n        }).always(function () {\n          console.log(\"complete\");\n        });\n      }\n    };\n\n    _this.state = {\n      userId: null\n    };\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"search login-margin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        border: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        className: \"Where\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Where\"), React.createElement(\"td\", {\n        className: \"When\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Check-In\"), React.createElement(\"td\", {\n        className: \"Guests\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Check-Out\")), React.createElement(\"tr\", {\n        className: \"input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"destination\",\n        placeholder: \"Destination, City\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"date\",\n        name: \"check-in-time\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"date\",\n        name: \"check-out-time\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }))))), React.createElement(\"button\", {\n        onClick: this.onSearch,\n        id: \"search-button\",\n        name: \"search-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Search\"));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nexport default Search;","map":{"version":3,"sources":["/Users/chenweizhang/WebstormProjects/welive/src/Search.js"],"names":["React","Component","$","Search","props","onSearch","userId","updateHouse","handleSearch","cityName","val","console","log","checkInTime","checkOutTime","ajax","url","type","dataType","contentType","data","JSON","stringify","city","startDate","leaveDate","done","fail","always","setState","user_id","state"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './Search.css'\nimport $ from 'jquery'\n\nclass Search extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            userId: null\n        }\n    }\n\n    onSearch = () => {\n\n        let userId = this.props.userId;\n        let updateHouse = this.props.handleSearch;\n\n        let cityName = $('.input input[name = destination]').val();\n        console.log(cityName);\n        let checkInTime = $('.input input[name = check-in-time]').val();\n        console.log(checkInTime);\n        let checkOutTime = $('.input input[name = check-out-time]').val();\n        console.log(checkOutTime);\n\n        if(userId === null){\n\n            $.ajax({\n                    url: 'http://10.195.96.58:3000/search/info',\n                    type: 'POST',\n                    dataType: 'json',\n                    contentType: 'application/json',\n                    data: JSON.stringify({\n                        city: cityName,\n                        startDate: checkInTime,\n                        leaveDate: checkOutTime,\n                    }),\n            })\n            .done(function(data) {\n                  console.log(data);\n            })\n            .fail(function() {\n                  console.log(\"error\");\n             })\n            .always(function() {\n                  console.log(\"complete\");\n            })\n\n        }else {\n\n            this.setState({userId: userId});\n\n            $.ajax({\n                url: 'http://10.195.96.58:3000/search/info',\n                type: 'POST',\n                dataType: 'json',\n                contentType: 'application/json',\n                data: JSON.stringify({\n                    city: cityName,\n                    startDate: checkInTime,\n                    leaveDate: checkOutTime,\n                    user_id: userId,\n                }),\n            })\n            .done(function(data) {\n                    console.log(data);\n                    updateHouse(data);\n             })\n            .fail(function() {\n                    console.log(\"error\");\n             })\n             .always(function() {\n                    console.log(\"complete\");\n             })\n        }\n\n    }\n    \n    render() {\n        return (\n            <div className=\"search login-margin\">\n                    <table border=\"0\">\n                        <tbody>\n                        <tr>\n                            <td className=\"Where\">Where</td>\n                            <td className=\"When\">Check-In</td>\n                            <td className=\"Guests\">Check-Out</td>\n                        </tr>\n                        <tr className=\"input\">\n                            <td><input type=\"text\" name=\"destination\" placeholder=\"Destination, City\"/></td>\n                            <td><input type=\"date\" name=\"check-in-time\"/></td>\n                            <td><input type=\"date\" name=\"check-out-time\"/></td>\n                        </tr>\n                        </tbody>\n                    </table>\n\n                    <button onClick={this.onSearch} id=\"search-button\" name=\"search-button\">Search</button>\n            </div>\n        );\n    }\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}